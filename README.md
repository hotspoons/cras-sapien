# Cras Sapien
A library that provides a simple declarative approach to building applications around AI. 
Start by defining a DAG with reasoning steps and optional Jinja2 templates (with access to
data generated by all previous steps). Define sub-graphs in your DAG to loop over reasoning
steps until all steps completed successfully, or you exceeded the maximum number of retrys.

## Configuration
At a minimum, provide `model-name` (and `openai-api-key` if using OpenAI); if you are using a proxy
or your own white label model host, provide a `model-base-url` configuration. These can also be
provided as environment variables, see `.env`

TODO - document API including registering native functions, as well as integrated scripting 
with inline JavaScript and Python
TODO - document declarative syntax and restrictions on graph structures

## Running demo
```shell
git clone https://www.github.com/hotspoons/cras-sapien
cd cras-sapien
python3.11 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
# Change MODEL_NAME and MODEL_API_KEY as necessary, remove MODEL_BASE_URL if using OpenAI in .env file
# or add command arguments
python app.py

### TODO:
 - Make this a proper library, create a library host for this as a separate project
 - Define modules and functionality in pyproject.toml, decompose domain-specific functionality
 - Rethink config

